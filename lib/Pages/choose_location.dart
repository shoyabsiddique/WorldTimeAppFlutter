import 'package:flutter/material.dart';
import 'package:world_time/Services/world_time.dart';
class ChooseLocation extends StatefulWidget {
  const ChooseLocation({Key? key}) : super(key: key);

  @override
  State<ChooseLocation> createState() => _ChooseLocationState();
}

class _ChooseLocationState extends State<ChooseLocation> {
  List<WorldTime> locations = [WorldTime(url: 'Africa/Abidjan', location: 'Africa/Abidjan', flag: 'Africa'), WorldTime(url: 'Africa/Accra', location: 'Africa/Accra', flag: 'Africa'), WorldTime(url: 'Africa/Algiers', location: 'Africa/Algiers', flag: 'Africa'), WorldTime(url: 'Africa/Bissau', location: 'Africa/Bissau', flag: 'Africa'), WorldTime(url: 'Africa/Cairo', location: 'Africa/Cairo', flag: 'Africa'), WorldTime(url: 'Africa/Casablanca', location: 'Africa/Casablanca', flag: 'Africa'), WorldTime(url: 'Africa/Ceuta', location: 'Africa/Ceuta', flag: 'Africa'), WorldTime(url: 'Africa/El_Aaiun', location: 'Africa/El_Aaiun', flag: 'Africa'), WorldTime(url: 'Africa/Johannesburg', location: 'Africa/Johannesburg', flag: 'Africa'), WorldTime(url: 'Africa/Juba', location: 'Africa/Juba', flag: 'Africa'), WorldTime(url: 'Africa/Khartoum', location: 'Africa/Khartoum', flag: 'Africa'), WorldTime(url: 'Africa/Lagos', location: 'Africa/Lagos', flag: 'Africa'), WorldTime(url: 'Africa/Maputo', location: 'Africa/Maputo', flag: 'Africa'), WorldTime(url: 'Africa/Monrovia', location: 'Africa/Monrovia', flag: 'Africa'), WorldTime(url: 'Africa/Nairobi', location: 'Africa/Nairobi', flag: 'Africa'), WorldTime(url: 'Africa/Ndjamena', location: 'Africa/Ndjamena', flag: 'Africa'), WorldTime(url: 'Africa/Sao_Tome', location: 'Africa/Sao_Tome', flag: 'Africa'), WorldTime(url: 'Africa/Tripoli', location: 'Africa/Tripoli', flag: 'Africa'), WorldTime(url: 'Africa/Tunis', location: 'Africa/Tunis', flag: 'Africa'), WorldTime(url: 'Africa/Windhoek', location: 'Africa/Windhoek', flag: 'Africa'), WorldTime(url: 'America/Adak', location: 'America/Adak', flag: 'America'), WorldTime(url: 'America/Anchorage', location: 'America/Anchorage', flag: 'America'), WorldTime(url: 'America/Araguaina', location: 'America/Araguaina', flag: 'America'), WorldTime(url: 'America/Argentina/Buenos_Aires', location: 'America/Argentina/Buenos_Aires', flag: 'America'), WorldTime(url: 'America/Argentina/Catamarca', location: 'America/Argentina/Catamarca', flag: 'America'), WorldTime(url: 'America/Argentina/Cordoba', location: 'America/Argentina/Cordoba', flag: 'America'), WorldTime(url: 'America/Argentina/Jujuy', location: 'America/Argentina/Jujuy', flag: 'America'), WorldTime(url: 'America/Argentina/La_Rioja', location: 'America/Argentina/La_Rioja', flag: 'America'), WorldTime(url: 'America/Argentina/Mendoza', location: 'America/Argentina/Mendoza', flag: 'America'), WorldTime(url: 'America/Argentina/Rio_Gallegos', location: 'America/Argentina/Rio_Gallegos', flag: 'America'), WorldTime(url: 'America/Argentina/Salta', location: 'America/Argentina/Salta', flag: 'America'), WorldTime(url: 'America/Argentina/San_Juan', location: 'America/Argentina/San_Juan', flag: 'America'), WorldTime(url: 'America/Argentina/San_Luis', location: 'America/Argentina/San_Luis', flag: 'America'), WorldTime(url: 'America/Argentina/Tucuman', location: 'America/Argentina/Tucuman', flag: 'America'), WorldTime(url: 'America/Argentina/Ushuaia', location: 'America/Argentina/Ushuaia', flag: 'America'), WorldTime(url: 'America/Asuncion', location: 'America/Asuncion', flag: 'America'), WorldTime(url: 'America/Atikokan', location: 'America/Atikokan', flag: 'America'), WorldTime(url: 'America/Bahia', location: 'America/Bahia', flag: 'America'), WorldTime(url: 'America/Bahia_Banderas', location: 'America/Bahia_Banderas', flag: 'America'), WorldTime(url: 'America/Barbados', location: 'America/Barbados', flag: 'America'), WorldTime(url: 'America/Belem', location: 'America/Belem', flag: 'America'), WorldTime(url: 'America/Belize', location: 'America/Belize', flag: 'America'), WorldTime(url: 'America/Blanc-Sablon', location: 'America/Blanc-Sablon', flag: 'America'), WorldTime(url: 'America/Boa_Vista', location: 'America/Boa_Vista', flag: 'America'), WorldTime(url: 'America/Bogota', location: 'America/Bogota', flag: 'America'), WorldTime(url: 'America/Boise', location: 'America/Boise', flag: 'America'), WorldTime(url: 'America/Cambridge_Bay', location: 'America/Cambridge_Bay', flag: 'America'), WorldTime(url: 'America/Campo_Grande', location: 'America/Campo_Grande', flag: 'America'), WorldTime(url: 'America/Cancun', location: 'America/Cancun', flag: 'America'), WorldTime(url: 'America/Caracas', location: 'America/Caracas', flag: 'America'), WorldTime(url: 'America/Cayenne', location: 'America/Cayenne', flag: 'America'), WorldTime(url: 'America/Chicago', location: 'America/Chicago', flag: 'America'), WorldTime(url: 'America/Chihuahua', location: 'America/Chihuahua', flag: 'America'), WorldTime(url: 'America/Costa_Rica', location: 'America/Costa_Rica', flag: 'America'), WorldTime(url: 'America/Creston', location: 'America/Creston', flag: 'America'), WorldTime(url: 'America/Cuiaba', location: 'America/Cuiaba', flag: 'America'), WorldTime(url: 'America/Curacao', location: 'America/Curacao', flag: 'America'), WorldTime(url: 'America/Danmarkshavn', location: 'America/Danmarkshavn', flag: 'America'), WorldTime(url: 'America/Dawson', location: 'America/Dawson', flag: 'America'), WorldTime(url: 'America/Dawson_Creek', location: 'America/Dawson_Creek', flag: 'America'), WorldTime(url: 'America/Denver', location: 'America/Denver', flag: 'America'), WorldTime(url: 'America/Detroit', location: 'America/Detroit', flag: 'America'), WorldTime(url: 'America/Edmonton', location: 'America/Edmonton', flag: 'America'), WorldTime(url: 'America/Eirunepe', location: 'America/Eirunepe', flag: 'America'), WorldTime(url: 'America/El_Salvador', location: 'America/El_Salvador', flag: 'America'), WorldTime(url: 'America/Fort_Nelson', location: 'America/Fort_Nelson', flag: 'America'), WorldTime(url: 'America/Fortaleza', location: 'America/Fortaleza', flag: 'America'), WorldTime(url: 'America/Glace_Bay', location: 'America/Glace_Bay', flag: 'America'), WorldTime(url: 'America/Goose_Bay', location: 'America/Goose_Bay', flag: 'America'), WorldTime(url: 'America/Grand_Turk', location: 'America/Grand_Turk', flag: 'America'), WorldTime(url: 'America/Guatemala', location: 'America/Guatemala', flag: 'America'), WorldTime(url: 'America/Guayaquil', location: 'America/Guayaquil', flag: 'America'), WorldTime(url: 'America/Guyana', location: 'America/Guyana', flag: 'America'), WorldTime(url: 'America/Halifax', location: 'America/Halifax', flag: 'America'), WorldTime(url: 'America/Havana', location: 'America/Havana', flag: 'America'), WorldTime(url: 'America/Hermosillo', location: 'America/Hermosillo', flag: 'America'), WorldTime(url: 'America/Indiana/Indianapolis', location: 'America/Indiana/Indianapolis', flag: 'America'), WorldTime(url: 'America/Indiana/Knox', location: 'America/Indiana/Knox', flag: 'America'), WorldTime(url: 'America/Indiana/Marengo', location: 'America/Indiana/Marengo', flag: 'America'), WorldTime(url: 'America/Indiana/Petersburg', location: 'America/Indiana/Petersburg', flag: 'America'), WorldTime(url: 'America/Indiana/Tell_City', location: 'America/Indiana/Tell_City', flag: 'America'), WorldTime(url: 'America/Indiana/Vevay', location: 'America/Indiana/Vevay', flag: 'America'), WorldTime(url: 'America/Indiana/Vincennes', location: 'America/Indiana/Vincennes', flag: 'America'), WorldTime(url: 'America/Indiana/Winamac', location: 'America/Indiana/Winamac', flag: 'America'), WorldTime(url: 'America/Inuvik', location: 'America/Inuvik', flag: 'America'), WorldTime(url: 'America/Iqaluit', location: 'America/Iqaluit', flag: 'America'), WorldTime(url: 'America/Jamaica', location: 'America/Jamaica', flag: 'America'), WorldTime(url: 'America/Juneau', location: 'America/Juneau', flag: 'America'), WorldTime(url: 'America/Kentucky/Louisville', location: 'America/Kentucky/Louisville', flag: 'America'), WorldTime(url: 'America/Kentucky/Monticello', location: 'America/Kentucky/Monticello', flag: 'America'), WorldTime(url: 'America/La_Paz', location: 'America/La_Paz', flag: 'America'), WorldTime(url: 'America/Lima', location: 'America/Lima', flag: 'America'), WorldTime(url: 'America/Los_Angeles', location: 'America/Los_Angeles', flag: 'America'), WorldTime(url: 'America/Maceio', location: 'America/Maceio', flag: 'America'), WorldTime(url: 'America/Managua', location: 'America/Managua', flag: 'America'), WorldTime(url: 'America/Manaus', location: 'America/Manaus', flag: 'America'), WorldTime(url: 'America/Martinique', location: 'America/Martinique', flag: 'America'), WorldTime(url: 'America/Matamoros', location: 'America/Matamoros', flag: 'America'), WorldTime(url: 'America/Mazatlan', location: 'America/Mazatlan', flag: 'America'), WorldTime(url: 'America/Menominee', location: 'America/Menominee', flag: 'America'), WorldTime(url: 'America/Merida', location: 'America/Merida', flag: 'America'), WorldTime(url: 'America/Metlakatla', location: 'America/Metlakatla', flag: 'America'), WorldTime(url: 'America/Mexico_City', location: 'America/Mexico_City', flag: 'America'), WorldTime(url: 'America/Miquelon', location: 'America/Miquelon', flag: 'America'), WorldTime(url: 'America/Moncton', location: 'America/Moncton', flag: 'America'), WorldTime(url: 'America/Monterrey', location: 'America/Monterrey', flag: 'America'), WorldTime(url: 'America/Montevideo', location: 'America/Montevideo', flag: 'America'), WorldTime(url: 'America/Nassau', location: 'America/Nassau', flag: 'America'), WorldTime(url: 'America/New_York', location: 'America/New_York', flag: 'America'), WorldTime(url: 'America/Nipigon', location: 'America/Nipigon', flag: 'America'), WorldTime(url: 'America/Nome', location: 'America/Nome', flag: 'America'), WorldTime(url: 'America/Noronha', location: 'America/Noronha', flag: 'America'), WorldTime(url: 'America/North_Dakota/Beulah', location: 'America/North_Dakota/Beulah', flag: 'America'), WorldTime(url: 'America/North_Dakota/Center', location: 'America/North_Dakota/Center', flag: 'America'), WorldTime(url: 'America/North_Dakota/New_Salem', location: 'America/North_Dakota/New_Salem', flag: 'America'), WorldTime(url: 'America/Nuuk', location: 'America/Nuuk', flag: 'America'), WorldTime(url: 'America/Ojinaga', location: 'America/Ojinaga', flag: 'America'), WorldTime(url: 'America/Panama', location: 'America/Panama', flag: 'America'), WorldTime(url: 'America/Pangnirtung', location: 'America/Pangnirtung', flag: 'America'), WorldTime(url: 'America/Paramaribo', location: 'America/Paramaribo', flag: 'America'), WorldTime(url: 'America/Phoenix', location: 'America/Phoenix', flag: 'America'), WorldTime(url: 'America/Port-au-Prince', location: 'America/Port-au-Prince', flag: 'America'), WorldTime(url: 'America/Port_of_Spain', location: 'America/Port_of_Spain', flag: 'America'), WorldTime(url: 'America/Porto_Velho', location: 'America/Porto_Velho', flag: 'America'), WorldTime(url: 'America/Puerto_Rico', location: 'America/Puerto_Rico', flag: 'America'), WorldTime(url: 'America/Punta_Arenas', location: 'America/Punta_Arenas', flag: 'America'), WorldTime(url: 'America/Rainy_River', location: 'America/Rainy_River', flag: 'America'), WorldTime(url: 'America/Rankin_Inlet', location: 'America/Rankin_Inlet', flag: 'America'), WorldTime(url: 'America/Recife', location: 'America/Recife', flag: 'America'), WorldTime(url: 'America/Regina', location: 'America/Regina', flag: 'America'), WorldTime(url: 'America/Resolute', location: 'America/Resolute', flag: 'America'), WorldTime(url: 'America/Rio_Branco', location: 'America/Rio_Branco', flag: 'America'), WorldTime(url: 'America/Santarem', location: 'America/Santarem', flag: 'America'), WorldTime(url: 'America/Santiago', location: 'America/Santiago', flag: 'America'), WorldTime(url: 'America/Santo_Domingo', location: 'America/Santo_Domingo', flag: 'America'), WorldTime(url: 'America/Sao_Paulo', location: 'America/Sao_Paulo', flag: 'America'), WorldTime(url: 'America/Scoresbysund', location: 'America/Scoresbysund', flag: 'America'), WorldTime(url: 'America/Sitka', location: 'America/Sitka', flag: 'America'), WorldTime(url: 'America/St_Johns', location: 'America/St_Johns', flag: 'America'), WorldTime(url: 'America/Swift_Current', location: 'America/Swift_Current', flag: 'America'), WorldTime(url: 'America/Tegucigalpa', location: 'America/Tegucigalpa', flag: 'America'), WorldTime(url: 'America/Thule', location: 'America/Thule', flag: 'America'), WorldTime(url: 'America/Thunder_Bay', location: 'America/Thunder_Bay', flag: 'America'), WorldTime(url: 'America/Tijuana', location: 'America/Tijuana', flag: 'America'), WorldTime(url: 'America/Toronto', location: 'America/Toronto', flag: 'America'), WorldTime(url: 'America/Vancouver', location: 'America/Vancouver', flag: 'America'), WorldTime(url: 'America/Whitehorse', location: 'America/Whitehorse', flag: 'America'), WorldTime(url: 'America/Winnipeg', location: 'America/Winnipeg', flag: 'America'), WorldTime(url: 'America/Yakutat', location: 'America/Yakutat', flag: 'America'), WorldTime(url: 'America/Yellowknife', location: 'America/Yellowknife', flag: 'America'), WorldTime(url: 'Antarctica/Casey', location: 'Antarctica/Casey', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Davis', location: 'Antarctica/Davis', flag: 'Antarctica'), WorldTime(url: 'Antarctica/DumontDUrville', location: 'Antarctica/DumontDUrville', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Macquarie', location: 'Antarctica/Macquarie', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Mawson', location: 'Antarctica/Mawson', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Palmer', location: 'Antarctica/Palmer', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Rothera', location: 'Antarctica/Rothera', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Syowa', location: 'Antarctica/Syowa', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Troll', location: 'Antarctica/Troll', flag: 'Antarctica'), WorldTime(url: 'Antarctica/Vostok', location: 'Antarctica/Vostok', flag: 'Antarctica'), WorldTime(url: 'Asia/Almaty', location: 'Asia/Almaty', flag: 'Asia'), WorldTime(url: 'Asia/Amman', location: 'Asia/Amman', flag: 'Asia'), WorldTime(url: 'Asia/Anadyr', location: 'Asia/Anadyr', flag: 'Asia'), WorldTime(url: 'Asia/Aqtau', location: 'Asia/Aqtau', flag: 'Asia'), WorldTime(url: 'Asia/Aqtobe', location: 'Asia/Aqtobe', flag: 'Asia'), WorldTime(url: 'Asia/Ashgabat', location: 'Asia/Ashgabat', flag: 'Asia'), WorldTime(url: 'Asia/Atyrau', location: 'Asia/Atyrau', flag: 'Asia'), WorldTime(url: 'Asia/Baghdad', location: 'Asia/Baghdad', flag: 'Asia'), WorldTime(url: 'Asia/Baku', location: 'Asia/Baku', flag: 'Asia'), WorldTime(url: 'Asia/Bangkok', location: 'Asia/Bangkok', flag: 'Asia'), WorldTime(url: 'Asia/Barnaul', location: 'Asia/Barnaul', flag: 'Asia'), WorldTime(url: 'Asia/Beirut', location: 'Asia/Beirut', flag: 'Asia'), WorldTime(url: 'Asia/Bishkek', location: 'Asia/Bishkek', flag: 'Asia'), WorldTime(url: 'Asia/Brunei', location: 'Asia/Brunei', flag: 'Asia'), WorldTime(url: 'Asia/Chita', location: 'Asia/Chita', flag: 'Asia'), WorldTime(url: 'Asia/Choibalsan', location: 'Asia/Choibalsan', flag: 'Asia'), WorldTime(url: 'Asia/Colombo', location: 'Asia/Colombo', flag: 'Asia'), WorldTime(url: 'Asia/Damascus', location: 'Asia/Damascus', flag: 'Asia'), WorldTime(url: 'Asia/Dhaka', location: 'Asia/Dhaka', flag: 'Asia'), WorldTime(url: 'Asia/Dili', location: 'Asia/Dili', flag: 'Asia'), WorldTime(url: 'Asia/Dubai', location: 'Asia/Dubai', flag: 'Asia'), WorldTime(url: 'Asia/Dushanbe', location: 'Asia/Dushanbe', flag: 'Asia'), WorldTime(url: 'Asia/Famagusta', location: 'Asia/Famagusta', flag: 'Asia'), WorldTime(url: 'Asia/Gaza', location: 'Asia/Gaza', flag: 'Asia'), WorldTime(url: 'Asia/Hebron', location: 'Asia/Hebron', flag: 'Asia'), WorldTime(url: 'Asia/Ho_Chi_Minh', location: 'Asia/Ho_Chi_Minh', flag: 'Asia'), WorldTime(url: 'Asia/Hong_Kong', location: 'Asia/Hong_Kong', flag: 'Asia'), WorldTime(url: 'Asia/Hovd', location: 'Asia/Hovd', flag: 'Asia'), WorldTime(url: 'Asia/Irkutsk', location: 'Asia/Irkutsk', flag: 'Asia'), WorldTime(url: 'Asia/Jakarta', location: 'Asia/Jakarta', flag: 'Asia'), WorldTime(url: 'Asia/Jayapura', location: 'Asia/Jayapura', flag: 'Asia'), WorldTime(url: 'Asia/Jerusalem', location: 'Asia/Jerusalem', flag: 'Asia'), WorldTime(url: 'Asia/Kabul', location: 'Asia/Kabul', flag: 'Asia'), WorldTime(url: 'Asia/Kamchatka', location: 'Asia/Kamchatka', flag: 'Asia'), WorldTime(url: 'Asia/Karachi', location: 'Asia/Karachi', flag: 'Asia'), WorldTime(url: 'Asia/Kathmandu', location: 'Asia/Kathmandu', flag: 'Asia'), WorldTime(url: 'Asia/Khandyga', location: 'Asia/Khandyga', flag: 'Asia'), WorldTime(url: 'Asia/Kolkata', location: 'Asia/Kolkata', flag: 'Asia'), WorldTime(url: 'Asia/Krasnoyarsk', location: 'Asia/Krasnoyarsk', flag: 'Asia'), WorldTime(url: 'Asia/Kuala_Lumpur', location: 'Asia/Kuala_Lumpur', flag: 'Asia'), WorldTime(url: 'Asia/Kuching', location: 'Asia/Kuching', flag: 'Asia'), WorldTime(url: 'Asia/Macau', location: 'Asia/Macau', flag: 'Asia'), WorldTime(url: 'Asia/Magadan', location: 'Asia/Magadan', flag: 'Asia'), WorldTime(url: 'Asia/Makassar', location: 'Asia/Makassar', flag: 'Asia'), WorldTime(url: 'Asia/Manila', location: 'Asia/Manila', flag: 'Asia'), WorldTime(url: 'Asia/Nicosia', location: 'Asia/Nicosia', flag: 'Asia'), WorldTime(url: 'Asia/Novokuznetsk', location: 'Asia/Novokuznetsk', flag: 'Asia'), WorldTime(url: 'Asia/Novosibirsk', location: 'Asia/Novosibirsk', flag: 'Asia'), WorldTime(url: 'Asia/Omsk', location: 'Asia/Omsk', flag: 'Asia'), WorldTime(url: 'Asia/Oral', location: 'Asia/Oral', flag: 'Asia'), WorldTime(url: 'Asia/Pontianak', location: 'Asia/Pontianak', flag: 'Asia'), WorldTime(url: 'Asia/Pyongyang', location: 'Asia/Pyongyang', flag: 'Asia'), WorldTime(url: 'Asia/Qatar', location: 'Asia/Qatar', flag: 'Asia'), WorldTime(url: 'Asia/Qostanay', location: 'Asia/Qostanay', flag: 'Asia'), WorldTime(url: 'Asia/Qyzylorda', location: 'Asia/Qyzylorda', flag: 'Asia'), WorldTime(url: 'Asia/Riyadh', location: 'Asia/Riyadh', flag: 'Asia'), WorldTime(url: 'Asia/Sakhalin', location: 'Asia/Sakhalin', flag: 'Asia'), WorldTime(url: 'Asia/Samarkand', location: 'Asia/Samarkand', flag: 'Asia'), WorldTime(url: 'Asia/Seoul', location: 'Asia/Seoul', flag: 'Asia'), WorldTime(url: 'Asia/Shanghai', location: 'Asia/Shanghai', flag: 'Asia'), WorldTime(url: 'Asia/Singapore', location: 'Asia/Singapore', flag: 'Asia'), WorldTime(url: 'Asia/Srednekolymsk', location: 'Asia/Srednekolymsk', flag: 'Asia'), WorldTime(url: 'Asia/Taipei', location: 'Asia/Taipei', flag: 'Asia'), WorldTime(url: 'Asia/Tashkent', location: 'Asia/Tashkent', flag: 'Asia'), WorldTime(url: 'Asia/Tbilisi', location: 'Asia/Tbilisi', flag: 'Asia'), WorldTime(url: 'Asia/Tehran', location: 'Asia/Tehran', flag: 'Asia'), WorldTime(url: 'Asia/Thimphu', location: 'Asia/Thimphu', flag: 'Asia'), WorldTime(url: 'Asia/Tokyo', location: 'Asia/Tokyo', flag: 'Asia'), WorldTime(url: 'Asia/Tomsk', location: 'Asia/Tomsk', flag: 'Asia'), WorldTime(url: 'Asia/Ulaanbaatar', location: 'Asia/Ulaanbaatar', flag: 'Asia'), WorldTime(url: 'Asia/Urumqi', location: 'Asia/Urumqi', flag: 'Asia'), WorldTime(url: 'Asia/Ust-Nera', location: 'Asia/Ust-Nera', flag: 'Asia'), WorldTime(url: 'Asia/Vladivostok', location: 'Asia/Vladivostok', flag: 'Asia'), WorldTime(url: 'Asia/Yakutsk', location: 'Asia/Yakutsk', flag: 'Asia'), WorldTime(url: 'Asia/Yangon', location: 'Asia/Yangon', flag: 'Asia'), WorldTime(url: 'Asia/Yekaterinburg', location: 'Asia/Yekaterinburg', flag: 'Asia'), WorldTime(url: 'Asia/Yerevan', location: 'Asia/Yerevan', flag: 'Asia'), WorldTime(url: 'Atlantic/Azores', location: 'Atlantic/Azores', flag: 'Atlantic'), WorldTime(url: 'Atlantic/Bermuda', location: 'Atlantic/Bermuda', flag: 'Atlantic'), WorldTime(url: 'Atlantic/Canary', location: 'Atlantic/Canary', flag: 'Atlantic'), WorldTime(url: 'Atlantic/Cape_Verde', location: 'Atlantic/Cape_Verde', flag: 'Atlantic'), WorldTime(url: 'Atlantic/Faroe', location: 'Atlantic/Faroe', flag: 'Atlantic'), WorldTime(url: 'Atlantic/Madeira', location: 'Atlantic/Madeira', flag: 'Atlantic'), WorldTime(url: 'Atlantic/Reykjavik', location: 'Atlantic/Reykjavik', flag: 'Atlantic'), WorldTime(url: 'Atlantic/South_Georgia', location: 'Atlantic/South_Georgia', flag: 'Atlantic'), WorldTime(url: 'Atlantic/Stanley', location: 'Atlantic/Stanley', flag: 'Atlantic'), WorldTime(url: 'Australia/Adelaide', location: 'Australia/Adelaide', flag: 'Australia'), WorldTime(url: 'Australia/Brisbane', location: 'Australia/Brisbane', flag: 'Australia'), WorldTime(url: 'Australia/Broken_Hill', location: 'Australia/Broken_Hill', flag: 'Australia'), WorldTime(url: 'Australia/Darwin', location: 'Australia/Darwin', flag: 'Australia'), WorldTime(url: 'Australia/Eucla', location: 'Australia/Eucla', flag: 'Australia'), WorldTime(url: 'Australia/Hobart', location: 'Australia/Hobart', flag: 'Australia'), WorldTime(url: 'Australia/Lindeman', location: 'Australia/Lindeman', flag: 'Australia'), WorldTime(url: 'Australia/Lord_Howe', location: 'Australia/Lord_Howe', flag: 'Australia'), WorldTime(url: 'Australia/Melbourne', location: 'Australia/Melbourne', flag: 'Australia'), WorldTime(url: 'Australia/Perth', location: 'Australia/Perth', flag: 'Australia'), WorldTime(url: 'Australia/Sydney', location: 'Australia/Sydney', flag: 'Australia'), WorldTime(url: 'CET', location: 'CET', flag: 'CET'), WorldTime(url: 'CST6CDT', location: 'CST6CDT', flag: 'CST6CDT'), WorldTime(url: 'EET', location: 'EET', flag: 'EET'), WorldTime(url: 'EST', location: 'EST', flag: 'EST'), WorldTime(url: 'EST5EDT', location: 'EST5EDT', flag: 'EST5EDT'), WorldTime(url: 'Etc/GMT', location: 'Etc/GMT', flag: 'Etc'), WorldTime(url: 'Etc/GMT+1', location: 'Etc/GMT+1', flag: 'Etc'), WorldTime(url: 'Etc/GMT+10', location: 'Etc/GMT+10', flag: 'Etc'), WorldTime(url: 'Etc/GMT+11', location: 'Etc/GMT+11', flag: 'Etc'), WorldTime(url: 'Etc/GMT+12', location: 'Etc/GMT+12', flag: 'Etc'), WorldTime(url: 'Etc/GMT+2', location: 'Etc/GMT+2', flag: 'Etc'), WorldTime(url: 'Etc/GMT+3', location: 'Etc/GMT+3', flag: 'Etc'), WorldTime(url: 'Etc/GMT+4', location: 'Etc/GMT+4', flag: 'Etc'), WorldTime(url: 'Etc/GMT+5', location: 'Etc/GMT+5', flag: 'Etc'), WorldTime(url: 'Etc/GMT+6', location: 'Etc/GMT+6', flag: 'Etc'), WorldTime(url: 'Etc/GMT+7', location: 'Etc/GMT+7', flag: 'Etc'), WorldTime(url: 'Etc/GMT+8', location: 'Etc/GMT+8', flag: 'Etc'), WorldTime(url: 'Etc/GMT+9', location: 'Etc/GMT+9', flag: 'Etc'), WorldTime(url: 'Etc/GMT-1', location: 'Etc/GMT-1', flag: 'Etc'), WorldTime(url: 'Etc/GMT-10', location: 'Etc/GMT-10', flag: 'Etc'), WorldTime(url: 'Etc/GMT-11', location: 'Etc/GMT-11', flag: 'Etc'), WorldTime(url: 'Etc/GMT-12', location: 'Etc/GMT-12', flag: 'Etc'), WorldTime(url: 'Etc/GMT-13', location: 'Etc/GMT-13', flag: 'Etc'), WorldTime(url: 'Etc/GMT-14', location: 'Etc/GMT-14', flag: 'Etc'), WorldTime(url: 'Etc/GMT-2', location: 'Etc/GMT-2', flag: 'Etc'), WorldTime(url: 'Etc/GMT-3', location: 'Etc/GMT-3', flag: 'Etc'), WorldTime(url: 'Etc/GMT-4', location: 'Etc/GMT-4', flag: 'Etc'), WorldTime(url: 'Etc/GMT-5', location: 'Etc/GMT-5', flag: 'Etc'), WorldTime(url: 'Etc/GMT-6', location: 'Etc/GMT-6', flag: 'Etc'), WorldTime(url: 'Etc/GMT-7', location: 'Etc/GMT-7', flag: 'Etc'), WorldTime(url: 'Etc/GMT-8', location: 'Etc/GMT-8', flag: 'Etc'), WorldTime(url: 'Etc/GMT-9', location: 'Etc/GMT-9', flag: 'Etc'), WorldTime(url: 'Etc/UTC', location: 'Etc/UTC', flag: 'Etc'), WorldTime(url: 'Europe/Amsterdam', location: 'Europe/Amsterdam', flag: 'Europe'), WorldTime(url: 'Europe/Andorra', location: 'Europe/Andorra', flag: 'Europe'), WorldTime(url: 'Europe/Astrakhan', location: 'Europe/Astrakhan', flag: 'Europe'), WorldTime(url: 'Europe/Athens', location: 'Europe/Athens', flag: 'Europe'), WorldTime(url: 'Europe/Belgrade', location: 'Europe/Belgrade', flag: 'Europe'), WorldTime(url: 'Europe/Berlin', location: 'Europe/Berlin', flag: 'Europe'), WorldTime(url: 'Europe/Brussels', location: 'Europe/Brussels', flag: 'Europe'), WorldTime(url: 'Europe/Bucharest', location: 'Europe/Bucharest', flag: 'Europe'), WorldTime(url: 'Europe/Budapest', location: 'Europe/Budapest', flag: 'Europe'), WorldTime(url: 'Europe/Chisinau', location: 'Europe/Chisinau', flag: 'Europe'), WorldTime(url: 'Europe/Copenhagen', location: 'Europe/Copenhagen', flag: 'Europe'), WorldTime(url: 'Europe/Dublin', location: 'Europe/Dublin', flag: 'Europe'), WorldTime(url: 'Europe/Gibraltar', location: 'Europe/Gibraltar', flag: 'Europe'), WorldTime(url: 'Europe/Helsinki', location: 'Europe/Helsinki', flag: 'Europe'), WorldTime(url: 'Europe/Istanbul', location: 'Europe/Istanbul', flag: 'Europe'), WorldTime(url: 'Europe/Kaliningrad', location: 'Europe/Kaliningrad', flag: 'Europe'), WorldTime(url: 'Europe/Kiev', location: 'Europe/Kiev', flag: 'Europe'), WorldTime(url: 'Europe/Kirov', location: 'Europe/Kirov', flag: 'Europe'), WorldTime(url: 'Europe/Lisbon', location: 'Europe/Lisbon', flag: 'Europe'), WorldTime(url: 'Europe/London', location: 'Europe/London', flag: 'Europe'), WorldTime(url: 'Europe/Luxembourg', location: 'Europe/Luxembourg', flag: 'Europe'), WorldTime(url: 'Europe/Madrid', location: 'Europe/Madrid', flag: 'Europe'), WorldTime(url: 'Europe/Malta', location: 'Europe/Malta', flag: 'Europe'), WorldTime(url: 'Europe/Minsk', location: 'Europe/Minsk', flag: 'Europe'), WorldTime(url: 'Europe/Monaco', location: 'Europe/Monaco', flag: 'Europe'), WorldTime(url: 'Europe/Moscow', location: 'Europe/Moscow', flag: 'Europe'), WorldTime(url: 'Europe/Oslo', location: 'Europe/Oslo', flag: 'Europe'), WorldTime(url: 'Europe/Paris', location: 'Europe/Paris', flag: 'Europe'), WorldTime(url: 'Europe/Prague', location: 'Europe/Prague', flag: 'Europe'), WorldTime(url: 'Europe/Riga', location: 'Europe/Riga', flag: 'Europe'), WorldTime(url: 'Europe/Rome', location: 'Europe/Rome', flag: 'Europe'), WorldTime(url: 'Europe/Samara', location: 'Europe/Samara', flag: 'Europe'), WorldTime(url: 'Europe/Saratov', location: 'Europe/Saratov', flag: 'Europe'), WorldTime(url: 'Europe/Simferopol', location: 'Europe/Simferopol', flag: 'Europe'), WorldTime(url: 'Europe/Sofia', location: 'Europe/Sofia', flag: 'Europe'), WorldTime(url: 'Europe/Stockholm', location: 'Europe/Stockholm', flag: 'Europe'), WorldTime(url: 'Europe/Tallinn', location: 'Europe/Tallinn', flag: 'Europe'), WorldTime(url: 'Europe/Tirane', location: 'Europe/Tirane', flag: 'Europe'), WorldTime(url: 'Europe/Ulyanovsk', location: 'Europe/Ulyanovsk', flag: 'Europe'), WorldTime(url: 'Europe/Uzhgorod', location: 'Europe/Uzhgorod', flag: 'Europe'), WorldTime(url: 'Europe/Vienna', location: 'Europe/Vienna', flag: 'Europe'), WorldTime(url: 'Europe/Vilnius', location: 'Europe/Vilnius', flag: 'Europe'), WorldTime(url: 'Europe/Volgograd', location: 'Europe/Volgograd', flag: 'Europe'), WorldTime(url: 'Europe/Warsaw', location: 'Europe/Warsaw', flag: 'Europe'), WorldTime(url: 'Europe/Zaporozhye', location: 'Europe/Zaporozhye', flag: 'Europe'), WorldTime(url: 'Europe/Zurich', location: 'Europe/Zurich', flag: 'Europe'), WorldTime(url: 'HST', location: 'HST', flag: 'HST'), WorldTime(url: 'Indian/Chagos', location: 'Indian/Chagos', flag: 'Indian'), WorldTime(url: 'Indian/Christmas', location: 'Indian/Christmas', flag: 'Indian'), WorldTime(url: 'Indian/Cocos', location: 'Indian/Cocos', flag: 'Indian'), WorldTime(url: 'Indian/Kerguelen', location: 'Indian/Kerguelen', flag: 'Indian'), WorldTime(url: 'Indian/Mahe', location: 'Indian/Mahe', flag: 'Indian'), WorldTime(url: 'Indian/Maldives', location: 'Indian/Maldives', flag: 'Indian'), WorldTime(url: 'Indian/Mauritius', location: 'Indian/Mauritius', flag: 'Indian'), WorldTime(url: 'Indian/Reunion', location: 'Indian/Reunion', flag: 'Indian'), WorldTime(url: 'MET', location: 'MET', flag: 'MET'), WorldTime(url: 'MST', location: 'MST', flag: 'MST'), WorldTime(url: 'MST7MDT', location: 'MST7MDT', flag: 'MST7MDT'), WorldTime(url: 'PST8PDT', location: 'PST8PDT', flag: 'PST8PDT'), WorldTime(url: 'Pacific/Apia', location: 'Pacific/Apia', flag: 'Pacific'), WorldTime(url: 'Pacific/Auckland', location: 'Pacific/Auckland', flag: 'Pacific'), WorldTime(url: 'Pacific/Bougainville', location: 'Pacific/Bougainville', flag: 'Pacific'), WorldTime(url: 'Pacific/Chatham', location: 'Pacific/Chatham', flag: 'Pacific'), WorldTime(url: 'Pacific/Chuuk', location: 'Pacific/Chuuk', flag: 'Pacific'), WorldTime(url: 'Pacific/Easter', location: 'Pacific/Easter', flag: 'Pacific'), WorldTime(url: 'Pacific/Efate', location: 'Pacific/Efate', flag: 'Pacific'), WorldTime(url: 'Pacific/Enderbury', location: 'Pacific/Enderbury', flag: 'Pacific'), WorldTime(url: 'Pacific/Fakaofo', location: 'Pacific/Fakaofo', flag: 'Pacific'), WorldTime(url: 'Pacific/Fiji', location: 'Pacific/Fiji', flag: 'Pacific'), WorldTime(url: 'Pacific/Funafuti', location: 'Pacific/Funafuti', flag: 'Pacific'), WorldTime(url: 'Pacific/Galapagos', location: 'Pacific/Galapagos', flag: 'Pacific'), WorldTime(url: 'Pacific/Gambier', location: 'Pacific/Gambier', flag: 'Pacific'), WorldTime(url: 'Pacific/Guadalcanal', location: 'Pacific/Guadalcanal', flag: 'Pacific'), WorldTime(url: 'Pacific/Guam', location: 'Pacific/Guam', flag: 'Pacific'), WorldTime(url: 'Pacific/Honolulu', location: 'Pacific/Honolulu', flag: 'Pacific'), WorldTime(url: 'Pacific/Kiritimati', location: 'Pacific/Kiritimati', flag: 'Pacific'), WorldTime(url: 'Pacific/Kosrae', location: 'Pacific/Kosrae', flag: 'Pacific'), WorldTime(url: 'Pacific/Kwajalein', location: 'Pacific/Kwajalein', flag: 'Pacific'), WorldTime(url: 'Pacific/Majuro', location: 'Pacific/Majuro', flag: 'Pacific'), WorldTime(url: 'Pacific/Marquesas', location: 'Pacific/Marquesas', flag: 'Pacific'), WorldTime(url: 'Pacific/Nauru', location: 'Pacific/Nauru', flag: 'Pacific'), WorldTime(url: 'Pacific/Niue', location: 'Pacific/Niue', flag: 'Pacific'), WorldTime(url: 'Pacific/Norfolk', location: 'Pacific/Norfolk', flag: 'Pacific'), WorldTime(url: 'Pacific/Noumea', location: 'Pacific/Noumea', flag: 'Pacific'), WorldTime(url: 'Pacific/Pago_Pago', location: 'Pacific/Pago_Pago', flag: 'Pacific'), WorldTime(url: 'Pacific/Palau', location: 'Pacific/Palau', flag: 'Pacific'), WorldTime(url: 'Pacific/Pitcairn', location: 'Pacific/Pitcairn', flag: 'Pacific'), WorldTime(url: 'Pacific/Pohnpei', location: 'Pacific/Pohnpei', flag: 'Pacific'), WorldTime(url: 'Pacific/Port_Moresby', location: 'Pacific/Port_Moresby', flag: 'Pacific'), WorldTime(url: 'Pacific/Rarotonga', location: 'Pacific/Rarotonga', flag: 'Pacific'), WorldTime(url: 'Pacific/Tahiti', location: 'Pacific/Tahiti', flag: 'Pacific'), WorldTime(url: 'Pacific/Tarawa', location: 'Pacific/Tarawa', flag: 'Pacific'), WorldTime(url: 'Pacific/Tongatapu', location: 'Pacific/Tongatapu', flag: 'Pacific'), WorldTime(url: 'Pacific/Wake', location: 'Pacific/Wake', flag: 'Pacific'), WorldTime(url: 'Pacific/Wallis', location: 'Pacific/Wallis', flag: 'Pacific'), WorldTime(url: 'WET', location: 'WET', flag: 'WET')];
  List<WorldTime> found = [];
  @override
  void initState() {
    found = locations;
    super.initState();
  }
  void updateTime(index) async {
    WorldTime instance = found[index];
    await instance.getTime();
    Navigator.pop(context, {
      'location': instance.location,
      'time': instance.time,
      'flag':instance.flag,
      'isDayTime': instance.isDayTime
    });
  }
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.grey[200],
      appBar: AppBar(
        backgroundColor: Colors.blue[900],
        title: Text("Choose a location"),
        centerTitle: true,
        elevation: 0.0,
      ),

      body: Column(
        children: [
          TextField(
            onChanged: (data){
              List<WorldTime> result = [];
              if(data.isEmpty)
                result = locations;
              else{
                result = locations.where((element) => element.location.toLowerCase().contains(data.toLowerCase())).toList();
              }
              setState(() {
                found = result;
              });
            },
            decoration: InputDecoration(
              labelText: "Search",
              suffixIcon: Icon(Icons.search_rounded)
            ),
          ),
          Expanded(
            child: ListView.builder(
              itemBuilder: (context, index){
                  return Card(
                    child: ListTile(
                      onTap: (){
                        updateTime(index);
                      },
                      title: Text(found[index].location),
                    ),
                  );
              },
              itemCount: found.length,
            ),
          ),
        ],
      )
    );
  }
}
